@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html, body {
    @apply h-full overflow-hidden;
    font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', system-ui, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }

  #root {
    @apply h-full;
  }

  * {
    box-sizing: border-box;
  }

  input[type="number"]::-webkit-inner-spin-button,
  input[type="number"]::-webkit-outer-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  input[type="number"] {
    -moz-appearance: textfield;
  }

  ::-webkit-scrollbar {
    display: none;
  }

  scrollbar-width: none;
}

@layer components {
  .app-container {
    @apply relative w-full max-w-[430px] mx-auto h-full overflow-hidden bg-ios-gray-6;
  }

  .screen {
    @apply absolute inset-0 flex flex-col overflow-hidden;
  }

  .ios-button-primary {
    @apply w-full h-14 rounded-2xl bg-brand-blue text-white font-semibold text-[17px]
           tracking-[-0.2px] flex items-center justify-center
           active:scale-[0.97] transition-transform duration-150 select-none;
    box-shadow: 0 4px 16px rgba(0, 85, 165, 0.28);
  }

  .ios-button-primary:disabled {
    @apply bg-ios-gray-4 text-ios-gray-2;
    box-shadow: none;
  }

  .ios-button-secondary {
    @apply w-full h-14 rounded-2xl bg-brand-light text-brand-blue font-semibold text-[17px]
           tracking-[-0.2px] flex items-center justify-center
           active:scale-[0.97] transition-transform duration-150 select-none;
  }

  .ios-input {
    @apply w-full h-[52px] px-4 rounded-2xl bg-ios-gray-6 border border-ios-gray-4
           text-[17px] text-[#1C1C1E] placeholder:text-ios-gray-2
           focus:outline-none focus:border-brand-blue focus:bg-white
           transition-all duration-200;
  }

  .ios-card {
    @apply bg-white rounded-2xl p-4;
    box-shadow: 0 2px 16px rgba(0, 0, 0, 0.06);
  }

  .safe-bottom {
    padding-bottom: calc(env(safe-area-inset-bottom, 0px) + 16px);
  }

  .safe-top {
    padding-top: calc(env(safe-area-inset-top, 0px) + 16px);
  }
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

.shimmer {
  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
}

@keyframes ripple {
  0% { transform: scale(0); opacity: 0.4; }
  100% { transform: scale(4); opacity: 0; }
}

.otp-box {
  width: 46px;
  height: 56px;
  border-radius: 14px;
  border: 1.5px solid #D1D1D6;
  background: #F9F9FB;
  font-size: 24px;
  font-weight: 600;
  text-align: center;
  color: #1C1C1E;
  transition: all 0.2s ease;
  outline: none;
  caret-color: #007AFF;
}

.otp-box:focus {
  border-color: #007AFF;
  background: white;
  box-shadow: 0 0 0 3px rgba(0, 122, 255, 0.15);
}

.otp-box.filled {
  border-color: #0055A5;
  background: #E8F1FB;
  color: #0055A5;
}
